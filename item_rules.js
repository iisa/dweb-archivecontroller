// From https://git.archive.org/arthur/ia-validate TODO manually update from time to time

item_rules =
{'custom_rules': {'isbn': 'is_isbn()'},
  'deprecated_fields': ['addeddate', 'openlibrary', 'republisher'],
  'files_rules': {'length': 'is_not_length_zero()'},
  'recommended_fields': ['description'],
  'regex_patterns': {'access-restricted': '^true$',
    'aspect_ratio': '^[0-9]+:[0-9]+$',
    'audio_sample_rate': '^-?[0-9]+$',
    'betterpdf': '^true$',
    'bookreader-defaults': '^mode/[12]up$',
    'boxid': '^(IA|ia|OL|ol)[0-9]+$',
    'ccnum': '^(cc[0-9]+|asr|ocr|[0-5])$',
    'closed_captioning': '^(yes|no)$',
    'collection': '^[a-zA-Z0-9][a-zA-Z0-9_\\-\\.]{1,99}$',
    'date': '^([1-2][0-9]{3}-(0[0-9]|1[0-2])-([0-2][0-9]|3[01])|[1-2][0-9]{3}-(0[0-9]|1[0-2])|[1-2][0-9]{3})(([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?)?([\\+\\-][0-9][0-9]?(:[0-9][0-9])?)?$',
    'foldoutcount': '^-?[0-9]+$',
    'frames_per_second': '^-?([0-9]+|[0-9]*\\.[0-9]+)$',
    'hidden': '^true$',
    'identifier': '^[a-zA-Z0-9@][a-zA-Z0-9_\\-\\.]{4,99}$',
    'identifier-ark': 'ark:/[0-9]+/[0-9a-zA-Z]+',
    'imagecount': '^[0-9]+$',
    'lccn': '^-?[0-9]+$',
    'licenseurl': 'https?://(?:[-\\w.]|(?:%[\\da-fA-F]{2}))+',
    'mediatype': '^(texts|etree|audio|movies|software|image|data|web|collection|account)$',
    'next_item': '^[a-zA-Z0-9@][a-zA-Z0-9_\\-\\.]{4,99}$',
    'noindex': '^true$',
    'openlibrary': '^OL[0-9]+M$',
    'openlibrary_author': '^OL[0-9]+A$',
    'openlibrary_edition': '^OL[0-9]+M$',
    'openlibrary_work': '^OL[0-9]+W$',
    'page-progression': 'lr|rl',
    'ppi': '^[0-9]+$',
    'previous_item': '^[a-zA-Z0-9@][a-zA-Z0-9_\\-\\.]{4,99}$',
    'publicdate': '^[1-2][0-9]{3}-(0[0-9]|1[0-2])-([0-2][0-9]|3[01])(([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?)?$',
    'repub_state': '^-?[0-9]+$',
    'republisher_date': '^[1-2][0-9]{3}((0[0-9]|1[0-2])([0-2][0-9]|3[01])([0-2][0-9][0-5][0-9][0-5][0-9])?)?$',
    'republisher_operator': '^[^@\\s]+@[^@\\s]+\\.[^@\\s]+[^\\s]$',
    'republisher_time': '^-?[0-9]+$',
    'runtime': '^([0-9]+:[0-5][0-9]:[0-5][0-9]|([0-5])?[0-9]:[0-5][0-9])$',
    'source_pixel_height': '^-?[0-9]+$',
    'source_pixel_width': '^-?[0-9]+$',
    'start_localtime': '^[1-2][0-9]{3}-(0[0-9]|1[0-2])-([0-2][0-9]|3[01])(([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?)?$',
    'start_time': '^[1-2][0-9]{3}-(0[0-9]|1[0-2])-([0-2][0-9]|3[01])(([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?)?$',
    'stop_time': '^[1-2][0-9]{3}-(0[0-9]|1[0-2])-([0-2][0-9]|3[01])(([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?)?$',
    'title': '\\s*\\S+',
    'updated': '^[1-2][0-9]{3}-(0[0-9]|1[0-2])-([0-2][0-9]|3[01])$',
    'updatedate': '^[1-2][0-9]{3}-(0[0-9]|1[0-2])-([0-2][0-9]|3[01])(([0-1][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?)?$',
    'uploader': '^[^@\\s]+@[^@\\s]+\\.[^@\\s]+[^\\s]$|^tpb$',
    'utc_offset': '^-?[0-9]+$',
    'viruscheck': '^true$',
    'year': '^[1-2][0-9]{3}$'},
  'repeatable_fields': ['boxid',
    'collection',
    'creator',
    'description',
    'external-identifier',
    'isbn',
    'language',
    'lccn',
    'oclc-id',
    'openlibrary_author',
    'openlibrary_subject',
    'public-format',
    'related-external-id',
    'subject',
    'updated',
    'updatedate',
    'updater'],
  'required_fields': ['identifier',
    'mediatype',
    'publicdate',
    'title',
    'uploader']}

exports = module.exports = item_rules;
